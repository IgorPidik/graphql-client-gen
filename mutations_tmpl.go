package gcg

var operationsTemplateSrc = `package {{.Package}}
// generated by github.com/emicklei/graphql-client-gen/cmd/gcg on {{.Created.Format "Mon, 02 Jan 2006 15:04:05 MST" }} 
// DO NOT EDIT

import (
	"time"
	"context"
)

var (
	_ = time.Now
)

// Example implementation: github.com/shurcooL/graphql
type clientInterface interface {
	Mutate(ctx context.Context, m interface{}, variables map[string]interface{}) error
}

var Mutation = mutation{}
type mutation struct{}

{{- range .Operations}}

// {{.FunctionName}} is a Mutation. {{.Comment}}
func (_ mutation) {{.FunctionName}}(
	graphqlClient clientInterface,
	ctx context.Context,	
	{{- range .Arguments}}
	{{.Name}} {{if .IsArray}}[]{{end}}{{.Type}},{{- end}})({{if .IsArray}}[]{{end}}{{.ReturnType}},error) {
	var m struct {
		{{.FunctionName}} struct {
			{{.ReturnType}}
		} {{.Tag}}
	}
	vars := map[string]interface{}{
		{{- range .Arguments}}
		"{{.Name}}": {{.Name}},
		{{- end}}
	}
	err := graphqlClient.Mutate(ctx, &m, vars)
	return m.{{.FunctionName}}.{{.ReturnField}}, err
}
{{- end }}
`
